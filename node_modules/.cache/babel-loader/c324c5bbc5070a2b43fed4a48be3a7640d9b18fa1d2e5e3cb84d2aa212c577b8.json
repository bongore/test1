{"ast":null,"code":"import { presignMessagePrefix } from '../../constants/strings.js';\nimport { concat } from '../data/concat.js';\nimport { stringToBytes, toBytes } from '../encoding/toBytes.js';\nimport { keccak256 } from '../hash/keccak256.js';\nexport function hashMessage(message, to_) {\n  const messageBytes = (() => {\n    if (typeof message === 'string') return stringToBytes(message);\n    if (message.raw instanceof Uint8Array) return message.raw;\n    return toBytes(message.raw);\n  })();\n  const prefixBytes = stringToBytes(`${presignMessagePrefix}${messageBytes.length}`);\n  return keccak256(concat([prefixBytes, messageBytes]), to_);\n}","map":{"version":3,"names":["presignMessagePrefix","concat","stringToBytes","toBytes","keccak256","hashMessage","message","to_","messageBytes","raw","Uint8Array","prefixBytes","length"],"sources":["C:\\Users\\takap\\OneDrive - Chiba Institute of Technology\\デスクトップ\\web3-sotuken\\node_modules\\viem\\utils\\signature\\hashMessage.ts"],"sourcesContent":["import { presignMessagePrefix } from '../../constants/strings.js'\nimport type { ErrorType } from '../../errors/utils.js'\nimport type { ByteArray, Hex, SignableMessage } from '../../types/misc.js'\nimport { type ConcatErrorType, concat } from '../data/concat.js'\nimport {\n  type StringToBytesErrorType,\n  type ToBytesErrorType,\n  stringToBytes,\n  toBytes,\n} from '../encoding/toBytes.js'\nimport { type Keccak256ErrorType, keccak256 } from '../hash/keccak256.js'\n\ntype To = 'hex' | 'bytes'\n\nexport type HashMessage<TTo extends To> =\n  | (TTo extends 'bytes' ? ByteArray : never)\n  | (TTo extends 'hex' ? Hex : never)\n\nexport type HashMessageErrorType =\n  | ConcatErrorType\n  | Keccak256ErrorType\n  | StringToBytesErrorType\n  | ToBytesErrorType\n  | ErrorType\n\nexport function hashMessage<TTo extends To = 'hex'>(\n  message: SignableMessage,\n  to_?: TTo,\n): HashMessage<TTo> {\n  const messageBytes = (() => {\n    if (typeof message === 'string') return stringToBytes(message)\n    if (message.raw instanceof Uint8Array) return message.raw\n    return toBytes(message.raw)\n  })()\n  const prefixBytes = stringToBytes(\n    `${presignMessagePrefix}${messageBytes.length}`,\n  )\n  return keccak256(concat([prefixBytes, messageBytes]), to_)\n}\n"],"mappings":"AAAA,SAASA,oBAAoB,QAAQ,4BAA4B;AAGjE,SAA+BC,MAAM,QAAQ,mBAAmB;AAChE,SAGEC,aAAa,EACbC,OAAO,QACF,wBAAwB;AAC/B,SAAkCC,SAAS,QAAQ,sBAAsB;AAezE,OAAM,SAAUC,WAAWA,CACzBC,OAAwB,EACxBC,GAAS;EAET,MAAMC,YAAY,GAAG,CAAC,MAAK;IACzB,IAAI,OAAOF,OAAO,KAAK,QAAQ,EAAE,OAAOJ,aAAa,CAACI,OAAO,CAAC;IAC9D,IAAIA,OAAO,CAACG,GAAG,YAAYC,UAAU,EAAE,OAAOJ,OAAO,CAACG,GAAG;IACzD,OAAON,OAAO,CAACG,OAAO,CAACG,GAAG,CAAC;EAC7B,CAAC,EAAC,CAAE;EACJ,MAAME,WAAW,GAAGT,aAAa,CAC/B,GAAGF,oBAAoB,GAAGQ,YAAY,CAACI,MAAM,EAAE,CAChD;EACD,OAAOR,SAAS,CAACH,MAAM,CAAC,CAACU,WAAW,EAAEH,YAAY,CAAC,CAAC,EAAED,GAAG,CAAC;AAC5D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}