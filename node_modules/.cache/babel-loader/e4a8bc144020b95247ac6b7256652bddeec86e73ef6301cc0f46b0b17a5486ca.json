{"ast":null,"code":"import { NegativeOffsetError, PositionOutOfBoundsError } from '../errors/cursor.js';\nconst staticCursor = {\n  bytes: new Uint8Array(),\n  dataView: new DataView(new ArrayBuffer(0)),\n  position: 0,\n  assertPosition(position) {\n    if (position < 0 || position > this.bytes.length - 1) throw new PositionOutOfBoundsError({\n      length: this.bytes.length,\n      position\n    });\n  },\n  decrementPosition(offset) {\n    if (offset < 0) throw new NegativeOffsetError({\n      offset\n    });\n    const position = this.position - offset;\n    this.assertPosition(position);\n    this.position = position;\n  },\n  incrementPosition(offset) {\n    if (offset < 0) throw new NegativeOffsetError({\n      offset\n    });\n    const position = this.position + offset;\n    this.assertPosition(position);\n    this.position = position;\n  },\n  inspectByte(position_) {\n    const position = position_ !== null && position_ !== void 0 ? position_ : this.position;\n    this.assertPosition(position);\n    return this.bytes[position];\n  },\n  inspectBytes(length, position_) {\n    const position = position_ !== null && position_ !== void 0 ? position_ : this.position;\n    this.assertPosition(position + length - 1);\n    return this.bytes.subarray(position, position + length);\n  },\n  inspectUint8(position_) {\n    const position = position_ !== null && position_ !== void 0 ? position_ : this.position;\n    this.assertPosition(position);\n    return this.bytes[position];\n  },\n  inspectUint16(position_) {\n    const position = position_ !== null && position_ !== void 0 ? position_ : this.position;\n    this.assertPosition(position + 1);\n    return this.dataView.getUint16(position);\n  },\n  inspectUint24(position_) {\n    const position = position_ !== null && position_ !== void 0 ? position_ : this.position;\n    this.assertPosition(position + 2);\n    return (this.dataView.getUint16(position) << 8) + this.dataView.getUint8(position + 2);\n  },\n  inspectUint32(position_) {\n    const position = position_ !== null && position_ !== void 0 ? position_ : this.position;\n    this.assertPosition(position + 3);\n    return this.dataView.getUint32(position);\n  },\n  pushByte(byte) {\n    this.assertPosition(this.position);\n    this.bytes[this.position] = byte;\n    this.position++;\n  },\n  pushBytes(bytes) {\n    this.assertPosition(this.position + bytes.length - 1);\n    this.bytes.set(bytes, this.position);\n    this.position += bytes.length;\n  },\n  pushUint8(value) {\n    this.assertPosition(this.position);\n    this.bytes[this.position] = value;\n    this.position++;\n  },\n  pushUint16(value) {\n    this.assertPosition(this.position + 1);\n    this.dataView.setUint16(this.position, value);\n    this.position += 2;\n  },\n  pushUint24(value) {\n    this.assertPosition(this.position + 2);\n    this.dataView.setUint16(this.position, value >> 8);\n    this.dataView.setUint8(this.position + 2, value & ~4294967040);\n    this.position += 3;\n  },\n  pushUint32(value) {\n    this.assertPosition(this.position + 3);\n    this.dataView.setUint32(this.position, value);\n    this.position += 4;\n  },\n  readByte() {\n    const value = this.inspectByte();\n    this.position++;\n    return value;\n  },\n  readBytes(length) {\n    const value = this.inspectBytes(length);\n    this.position += length;\n    return value;\n  },\n  readUint8() {\n    const value = this.inspectUint8();\n    this.position += 1;\n    return value;\n  },\n  readUint16() {\n    const value = this.inspectUint16();\n    this.position += 2;\n    return value;\n  },\n  readUint24() {\n    const value = this.inspectUint24();\n    this.position += 3;\n    return value;\n  },\n  readUint32() {\n    const value = this.inspectUint32();\n    this.position += 4;\n    return value;\n  },\n  setPosition(position) {\n    this.assertPosition(position);\n    this.position = position;\n  }\n};\nexport function createCursor(bytes) {\n  const cursor = Object.create(staticCursor);\n  cursor.bytes = bytes;\n  cursor.dataView = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n  return cursor;\n}","map":{"version":3,"names":["NegativeOffsetError","PositionOutOfBoundsError","staticCursor","bytes","Uint8Array","dataView","DataView","ArrayBuffer","position","assertPosition","length","decrementPosition","offset","incrementPosition","inspectByte","position_","inspectBytes","subarray","inspectUint8","inspectUint16","getUint16","inspectUint24","getUint8","inspectUint32","getUint32","pushByte","byte","pushBytes","set","pushUint8","value","pushUint16","setUint16","pushUint24","setUint8","pushUint32","setUint32","readByte","readBytes","readUint8","readUint16","readUint24","readUint32","setPosition","createCursor","cursor","Object","create","buffer","byteOffset","byteLength"],"sources":["C:\\Users\\takap\\OneDrive - Chiba Institute of Technology\\デスクトップ\\web3-sotuken\\node_modules\\viem\\utils\\cursor.ts"],"sourcesContent":["import {\n  NegativeOffsetError,\n  PositionOutOfBoundsError,\n} from '../errors/cursor.js'\nimport type { ErrorType } from '../errors/utils.js'\nimport type { ByteArray } from '../types/misc.js'\n\nexport type Cursor = {\n  bytes: ByteArray\n  dataView: DataView\n  position: number\n  assertPosition(position: number): void\n  decrementPosition(offset: number): void\n  incrementPosition(offset: number): void\n  inspectByte(position?: number): ByteArray[number]\n  inspectBytes(length: number, position?: number): ByteArray\n  inspectUint8(position?: number): number\n  inspectUint16(position?: number): number\n  inspectUint24(position?: number): number\n  inspectUint32(position?: number): number\n  pushByte(byte: ByteArray[number]): void\n  pushBytes(bytes: ByteArray): void\n  pushUint8(value: number): void\n  pushUint16(value: number): void\n  pushUint24(value: number): void\n  pushUint32(value: number): void\n  readByte(): ByteArray[number]\n  readBytes(length: number): ByteArray\n  readUint8(): number\n  readUint16(): number\n  readUint24(): number\n  readUint32(): number\n  setPosition(position: number): void\n}\n\nexport type CreateCursorErrorType = ErrorType\n\nexport type CursorErrorType =\n  | CursorAssertPositionErrorType\n  | CursorDecrementPositionErrorType\n  | CursorIncrementPositionErrorType\n  | ErrorType\n\nexport type CursorAssertPositionErrorType = PositionOutOfBoundsError | ErrorType\n\nexport type CursorDecrementPositionErrorType = NegativeOffsetError | ErrorType\n\nexport type CursorIncrementPositionErrorType = NegativeOffsetError | ErrorType\n\nconst staticCursor: Cursor = {\n  bytes: new Uint8Array(),\n  dataView: new DataView(new ArrayBuffer(0)),\n  position: 0,\n  assertPosition(position) {\n    if (position < 0 || position > this.bytes.length - 1)\n      throw new PositionOutOfBoundsError({\n        length: this.bytes.length,\n        position,\n      })\n  },\n  decrementPosition(offset) {\n    if (offset < 0) throw new NegativeOffsetError({ offset })\n    const position = this.position - offset\n    this.assertPosition(position)\n    this.position = position\n  },\n  incrementPosition(offset) {\n    if (offset < 0) throw new NegativeOffsetError({ offset })\n    const position = this.position + offset\n    this.assertPosition(position)\n    this.position = position\n  },\n  inspectByte(position_) {\n    const position = position_ ?? this.position\n    this.assertPosition(position)\n    return this.bytes[position]\n  },\n  inspectBytes(length, position_) {\n    const position = position_ ?? this.position\n    this.assertPosition(position + length - 1)\n    return this.bytes.subarray(position, position + length)\n  },\n  inspectUint8(position_) {\n    const position = position_ ?? this.position\n    this.assertPosition(position)\n    return this.bytes[position]\n  },\n  inspectUint16(position_) {\n    const position = position_ ?? this.position\n    this.assertPosition(position + 1)\n    return this.dataView.getUint16(position)\n  },\n  inspectUint24(position_) {\n    const position = position_ ?? this.position\n    this.assertPosition(position + 2)\n    return (\n      (this.dataView.getUint16(position) << 8) +\n      this.dataView.getUint8(position + 2)\n    )\n  },\n  inspectUint32(position_) {\n    const position = position_ ?? this.position\n    this.assertPosition(position + 3)\n    return this.dataView.getUint32(position)\n  },\n  pushByte(byte: ByteArray[number]) {\n    this.assertPosition(this.position)\n    this.bytes[this.position] = byte\n    this.position++\n  },\n  pushBytes(bytes: ByteArray) {\n    this.assertPosition(this.position + bytes.length - 1)\n    this.bytes.set(bytes, this.position)\n    this.position += bytes.length\n  },\n  pushUint8(value: number) {\n    this.assertPosition(this.position)\n    this.bytes[this.position] = value\n    this.position++\n  },\n  pushUint16(value: number) {\n    this.assertPosition(this.position + 1)\n    this.dataView.setUint16(this.position, value)\n    this.position += 2\n  },\n  pushUint24(value: number) {\n    this.assertPosition(this.position + 2)\n    this.dataView.setUint16(this.position, value >> 8)\n    this.dataView.setUint8(this.position + 2, value & ~4294967040)\n    this.position += 3\n  },\n  pushUint32(value: number) {\n    this.assertPosition(this.position + 3)\n    this.dataView.setUint32(this.position, value)\n    this.position += 4\n  },\n  readByte() {\n    const value = this.inspectByte()\n    this.position++\n    return value\n  },\n  readBytes(length) {\n    const value = this.inspectBytes(length)\n    this.position += length\n    return value\n  },\n  readUint8() {\n    const value = this.inspectUint8()\n    this.position += 1\n    return value\n  },\n  readUint16() {\n    const value = this.inspectUint16()\n    this.position += 2\n    return value\n  },\n  readUint24() {\n    const value = this.inspectUint24()\n    this.position += 3\n    return value\n  },\n  readUint32() {\n    const value = this.inspectUint32()\n    this.position += 4\n    return value\n  },\n  setPosition(position) {\n    this.assertPosition(position)\n    this.position = position\n  },\n}\n\nexport function createCursor(bytes: ByteArray): Cursor {\n  const cursor = Object.create(staticCursor)\n  cursor.bytes = bytes\n  cursor.dataView = new DataView(\n    bytes.buffer,\n    bytes.byteOffset,\n    bytes.byteLength,\n  )\n  return cursor\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}